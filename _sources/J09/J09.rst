Pandas и сортирање података
====================================

.. infonote::

    *Сортирати податке* значи поређати их по величини.
    
Да бисмо видели како се то ради у библиотеци *pandas* прво ћемо учитати библиотеку:

.. ipython::

   In [1]: import pandas as pd

а онда ћемо направити табелу са подацима о групи деце коју смо већ користили, колонама ћемо дати одговарајућа имена и индексираћемо табелу именима деце:

.. ipython::

   In [1]: podaci = [["Ana",     "ž", 13, 46, 160],
      ...:           ["Bojan",   "m", 14, 52, 165],
      ...:           ["Vlada",   "m", 13, 47, 157],
      ...:           ["Gordana", "ž", 15, 54, 165],
      ...:           ["Dejan",   "m", 15, 56, 163],
      ...:           ["Đorđe",   "m", 13, 45, 159],
      ...:           ["Elena",   "ž", 14, 49, 161],
      ...:           ["Žaklina", "ž", 15, 52, 164],
      ...:           ["Zoran",   "m", 15, 57, 167],
      ...:           ["Ivana",   "ž", 13, 45, 158],
      ...:           ["Jasna",   "ž", 14, 51, 162]]
      ...: tabela = pd.DataFrame(podaci)
      ...: tabela.columns=["Ime", "Pol", "Starost", "Masa", "Visina"]
      ...: tabela1 = tabela.set_index("Ime")

Ево како табела изгледа:

.. ipython::

   In [1]: tabela1

Хајде сада да сортирамо табелу по висини употребом функције ``sort_values`` (енгл. *sort* значи "сортирај, поређај по величини", док *values* значи "вредности").

Овој функцији морамо да кажемо по ком критеријуму се сортирају подаци (по висини, тежини, старости, ...) тако што име одговарајуће колоне наведемо као вредност аргумента ``by`` (енгл. реч "by" значи свашта, али у овом контексту значи "према").

Функција не мења полазну табелу, већ од ње прави нову:

.. ipython::

   In [1]: tabela1_po_visini = tabela1.sort_values(by="Visina")
      ...: tabela1_po_visini

Пошто нисмо навели како желимо да сортирамо податке (од најмањег ка највећем, или обрнуто) подаци су сортирани од најмањег ка највећем. Уколико желимо да сортирамо табелу по висини, али од највеће ка најмањој, потребно је то нагласити користећи параметар ``ascending=False`` (енгл. *ascending* значи "растуће").

.. ipython::

   In [1]: tabela1_po_visini = tabela1.sort_values(by="Visina", ascending=False)
      ...: tabela1_po_visini

Хајде, за крај, да прикажемо податке из овако сортиране табеле.

.. ipython::
   :okwarning:

   @savefig J09slika1.png
   In [1]: import matplotlib.pyplot as plt
      ...: plt.figure(figsize=(10,5))
      ...: plt.bar(tabela1_po_visini.index, tabela1_po_visini["Visina"], label="Visina")
      ...: plt.bar(tabela1_po_visini.index, tabela1_po_visini["Masa"], label="Masa")
      ...: plt.title("Visina i masa dece u grupi")
      ...: plt.legend()
      ...: plt.show()

.. ipython::
   :suppress:

   In [1]: plt.close()

Ево и кратке видео илустрације:

.. ytpopup:: w36_KIyOG1Q
   :width: 735
   :height: 415
   :align: center

