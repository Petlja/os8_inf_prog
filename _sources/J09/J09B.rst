Pandas и филтрирање података
========================================



Често је из табеле потребно издвојити редове који имају неке особине.
На пример, ако желимо да издвојимо само оне редове табеле у којима су наведени подаци о девојчицама,
то можемо урадити на следећи начин:

.. code-block:: python

    tabela1[tabela1.Pol == "ž"]


Овај израз ће из табеле ``tabela1`` издвојити све редове код којих у колони "Pol" пише "ž". (Обратите пажњу на то да се приликом формирања критеријума у изразу ``tabela1.Pol`` не пишу наводници! Не питајте зашто...)

.. ipython::

   In [1]: devojke = tabela1[tabela1.Pol == "ž"]
      ...: devojke

На сличан начин можемо да издвојимо сву децу која имају преко 50 кг:

.. ipython::

   In [1]: preko_50kg = tabela1[tabela1.Masa > 50]
      ...: preko_50kg

Критеријуме можемо и да комбинујемо. На пример, ако желимо да из табеле извучемо податке о свим дечацима са највише 55 кг треба из табеле да издвојимо податке који задовољавају два критеријума:

.. code-block:: text

    Masa <= 55  и  Pol == "m".


Логички везник "и" се у библиотеци ``pandas`` означава симболом ``&``. Према томе, податке добијамо тако што табели проследимо следећи захтев за филтрирање:

.. ipython::

   In [1]: decaci_do_55kg = tabela1[(tabela1.Masa <= 55) & (tabela1.Pol == "m")]
      ...: decaci_do_55kg

Приказаћемо, за крај, податке о маси и висини ових дечака једним графиконом:

.. ipython::
   :okwarning:

   @savefig J09slika2.png
   In [1]: plt.figure(figsize=(6,6))
      ...: plt.bar(decaci_do_55kg.index, decaci_do_55kg["Visina"], label="Visina")
      ...: plt.bar(decaci_do_55kg.index, decaci_do_55kg["Masa"], label="Masa")
      ...: plt.title("Visina i masa dečaka do 55 kg u grupi")
      ...: plt.legend()
      ...: plt.show()

.. ipython::
   :suppress:

   In [1]: plt.close()

Ево и кратке видео илустрације:

.. ytpopup:: 00BmAAE34vQ
   :width: 735
   :height: 415
   :align: center

