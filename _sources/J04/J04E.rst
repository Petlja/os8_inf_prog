Приказивање просека и медијане
=====================================

Један начин да видимо однос просека и медијане и како они представљају податке је да ситуацију визуелизујемо.

Кренимо од једног једноставног примера. Претпоставимо да је на полугодишту један ученик имао следеће оцене из наведених предмета:

.. csv-table:: Оцене једног ученика на полугодишту
   :header: "Предмет", "Оцена"
   :align: left

   "Математика", "2"
   "Српски", "4"
   "Ликовно", "5"
   "Историја", "3"
   "Физичко", "5"
   "Музичко", "4"
   "Техничко", "5"

Податке можемо представити помоћу две листе, овако:

.. ipython::

   In [1]: predmeti = ["mat", "srp", "lik", "ist", "fiz", "muz", "tio"]
      ...: ocene    = [2,     4,     5,     3,     5,     4,     5    ]

Желимо да прикажемо његове оцене хистограмом и да просечна оцена буде означена црвеном линијом како бисмо могли да видимо које оцене су изнад просека, а које испод.

Прво ћемо учитати библиотеку за цртање графикона:

.. ipython::

   In [1]: import matplotlib.pyplot as plt

Хистограм са оценама можемо да нацртамо веома једноставно:

.. ipython::
   :okwarning:

   @savefig J04slika1.png
   In [1]: plt.figure(figsize=(10,5))
      ...: plt.bar(predmeti, ocene)
      ...: plt.title("Ocene na polugodistu")
      ...: plt.show()

.. ipython::
   :suppress:

   In [1]: plt.close()

Сада желимо да преко хистограма нацртамо црвену линију која представља просечну оцену. Прво ћемо израчунати просечну оцену ``po``:

.. ipython::

   In [1]: po = prosek(ocene)

а онда ћемо на горњи дијаграм додати и низ података који изгледа овако:

``[po, po, po, po, po, po, po]``

.. ipython::
   :okwarning:

   @savefig J04slika2.png
   In [1]: plt.figure(figsize=(10,5))
      ...: plt.bar(predmeti, ocene)
      ...: plt.plot(predmeti, [po, po, po, po, po, po, po], color="r")
      ...: plt.title("Ocene na polugodistu")
      ...: plt.show()

.. ipython::
   :suppress:

   In [1]: plt.close()

Ако један исти податак ``s`` треба поновити ``n`` пута можемо да пишемо као горе:

``[s, s, s, (и тако даље)]``

али можемо да то запишемо краће овако:

``[s]*n``

Ознаком ``[s]*n`` смо Пајтону рекли да желимо да направимо нови низ који се добија тако што се низ ``[s]`` "умножи" ``n`` пута. На пример, ``[5]*7 = [5, 5, 5, 5, 5, 5, 5]``. (Такође је ``[6, 7, 8]*3 = [6, 7, 8, 6, 7, 8, 6, 7, 8]``, али нам ово за сада неће бити потребно.)

Тако добијамо следећу верзију програма:

.. ipython::
   :okwarning:

   @savefig J04slika3.png
   In [1]: plt.figure(figsize=(10,5))
      ...: plt.bar(predmeti, ocene)
      ...: plt.plot(predmeti, [po] * len(ocene), color="r")
      ...: plt.title("Ocene na polugodistu")
      ...: plt.show()

.. ipython::
   :suppress:

   In [1]: plt.close()

За крај ћемо дијаграму додати легенду:

.. ipython::
   :okwarning:

   @savefig J04slika4.png
   In [1]: plt.figure(figsize=(10,5))
      ...: plt.bar(predmeti, ocene, label="ocene")
      ...: plt.plot(predmeti, [po] * len(ocene), color="r", label="prosek")
      ...: plt.title("Ocene na polugodistu")
      ...: plt.legend()
      ...: plt.show()

.. ipython::
   :suppress:

   In [1]: plt.close()

Ево и кратког видеа који илуструје оно што смо до сада видели:

.. ytpopup:: 8PGFcNL_KNg
   :width: 735
   :height: 415
   :align: center

Сада ћемо да визуелизујемо зараде у компанији о којој смо говорили у претходним одељцима.

.. ipython::
   :okwarning:

   @savefig J04slika5.png
   In [1]: n = len(zarade)
      ...: plt.bar(range(n), zarade)
      ...: plt.show()

.. ipython::
   :suppress:

   In [1]: plt.close()

Дакле, ништа се не види.

Мораћемо да повећамо дијаграм и да прибегнемо још једном лукавству. Пошто ми већ знамо да је просечна зарада око 25.000 америчких долара и да има само троје запослених у тој компанији који примају толико или више, ограничићемо вредности које се приказују на :math:`y`-оси. Одмах ћемо приказати и просек црвеном линијом.

.. ipython::
   :okwarning:

   @savefig J04slika6.png
   In [1]: n = len(zarade)
      ...: plt.figure(figsize=(15,5))
      ...: plt.bar(range(n), zarade, color="b")
      ...: plt.plot([0, n-1], [prosecna_zarada, prosecna_zarada], color="r")
      ...: plt.ylim(0,30000)
      ...: plt.show()

.. ipython::
   :suppress:

   In [1]: plt.close()

На овом дијаграму се јасно види како су несразмерно велике зараде неколицине запослених "повукле просек за собом".

Погледајмо сада где је доња медијана. Њу ћемо представити као дијаграм са само једним црвеним стубићем на средини низа.

.. ipython::
   :okwarning:

   @savefig J04slika7.png
   In [1]: n = len(zarade)
      ...: plt.figure(figsize=(15,5))
      ...: plt.bar(range(n), zarade, color="b")
      ...: plt.bar([n//2], [zarade[n//2]], color="r")
      ...: plt.ylim(0,30000)
      ...: plt.show()

.. ipython::
   :suppress:

   In [1]: plt.close()

.. infonote::

   Према томе, ако те занима какв је животни стандард у некој држави **питај колика је медијална
   зарада** јер се просек малим бројем непристојно великих зарада може лако "померити" на страну која
   одговара политичарима.
