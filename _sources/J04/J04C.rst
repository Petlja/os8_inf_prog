Сортирање и медијана
==================================

.. infonote:: 

     Сортирати низ значи испремештати његове елементе тако да буду поређани по величини, од мањих ка већим или обрнуто.


На пример:


.. math::
      [3, 1, 2, 5, 0, -1, 4] \to [-1, 0, 1, 2, 3, 4, 5]


Уграђена функција ``sort`` сортира низ и позива се овако:

.. ipython::

   In [1]: L = [3, 1, 2, 5, 0, -1, 4]
      ...: L.sort()

Ако проверимо вредност променљиве ``L`` након позива функције ``sort`` видећемо да су елементи листе сада поређани од мањих ка већим вредностима:

.. ipython::

   In [1]: L

Ако желимо да поређамо елементе листе ``L`` од већих ка мањим вредностима, то можемо да урадимо овако:

.. ipython::

   In [1]: L.sort(reverse=True)
      ...: L

Опција ``reverse=True`` каже функцији ``sort`` да желимо да сортирамо елементе листе у "обрнутом" поретку: од већих ка мањим вредностима.

Ако су подаци са којима радимо "јако разбацани" и "имају велика одступања" може се десити да просек низа *није добар представник целог низа*. Зато се као друга карактеристична вредност низа често користи *медијана*.


.. infonote::

     *Медијана низа* је елемент "на средини сортираног низа" и одређује се овако:

     * ако је дужина низа непарна медијана низа је елемент који је тачно на средини низа;
     * ако је дужина низа парна медијана низа је аритметичка средина два елемента на средини низа.

На пример, медијана низа [1, 4, 9, 12, 45, 101, 256] је 12
::
    
    [1, 4, 9, 12, 45, 101, 256]
              ^^
              елемент на средини сортираног низа

док је медијана низа [1, 4, 9, 12, 45, 101, 256, 317] једнака са :math:`\frac{12 + 45}{2} = 28,5`
::

    [1, 4, 9, 12,    45, 101, 256, 317]
                  ^^
                  број на средини између 12 и 45, што је 28,5

Дакле, ако је дужина низа непарна медијана тог низа је његов елемент низа, док у случају да је дужина низа парна медијана је број који не мора
бити елемент низа. То може да представља непријатност у неким ситуацијама, па ћемо ми зато у овом курсу користити сродан појам појам који се
зове доња медијана низа.

.. infonote:: 

      *Доња медијана низа* је **елемент низа** који се одређује овако:

      * ако је дужина низа непарна, доња медијана низа је број на средини сортиране верзије тог низа (исто као код медијане);
      * ако је дужина низа парна, доња медијана низа је мањи од два средишња елемента у сортираној верзији низа.

На пример, доња медијана низа [1, 4, 9, 12, 45, 101, 256] је 12
::
    
    [1, 4, 9, 12, 45, 101, 256]
              ^^
              елемент на средини сортираног низа

док је доња медијана низа [1, 4, 9, 12, 45, 101, 256, 317] поново 12:
::

    [1, 4, 9, 12, 45, 101, 256, 317]
              ^^  ^^
              мањи од два средишња броја, што је 12

Доња медијана низа се веома лако рачуна:

.. ipython::

   In [1]: def donja_medijana(L):
      ...:     n = len(L)
      ...:     L.sort()
      ...:     return L[n//2]

У многим ситуацијама (доња) медијана боље представља „средњу вредност“ низа него аритметичка средина низа. Ево примера.

У листи ``zarade`` дате су месечне зараде запослених у једној малој приватној компанији исказане у америчким доларима.

.. ipython::

   In [1]: zarade = [647, 570, 587, 576, 646, 519, 585, 686, 644, 604, 95611, 609, 603, 536, 532, 535, 423180, 619, 600, 624, 545, 582, 890234, 672, 699, 549, 571, 688, 542, 691, 533, 670, 603, 583, 670, 550, 544, 579, 505, 673, 631, 695, 577, 653, 514, 556, 651, 530, 664, 559, 630, 699, 506, 696, 653, 674, 636, 618]

Просечна зарада у компанији је:

.. ipython::

   In [1]: prosek(zarade)

Међутим, доња медијана овог низа је:

.. ipython::

   In [1]: donja_medijana(zarade)

Дакле, просечна зарада у компанији је скоро 25.000 америчких долара, али доња медијана свих зарада је 609 америчких долара. То значи да половина запослених у тој компанији има зараду која износи 609 америчких долара или мање. Како је то могуће?

Да бисмо схватили шта се десило, морамо да извршимо детаљнију анализу.

