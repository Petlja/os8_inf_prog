Секторски дијаграми
=========================


У ситуацијама када се приказује колико процената које компоненте учествује у саставу неке целине погодно је податке приказати *секторским дијаграмом* који представља круг исечен на исечке попут пице. Круг тада представља целину (100%), док исечци представљају компоненте које учествују у целини исказане у процентима.

На пример, оцене из информатике су у једном разреду са 30 ученика расподељене овако:

.. csv-table:: Фреквенцијска анализа оцена
   :header: "Оцена     ", "Заступљеност оцене"
   :align: left

   "5", "9"
   "4", "11"
   "3", "6"
   "2", "3"
   "1", "1"

Податке из ове табеле ћемо илустровати секторским дијаграмом. Прво ћемо увести библиотеку:

.. ipython::

   In [1]: import matplotlib.pyplot as plt

Онда ћемо податке записати помоћу два низа овако:

.. ipython::

   In [1]: frekvencije = [9,   11,  6,   3,   1]
      ...: ocene       = ["5", "4", "3", "2", "1"]

И сада можемо да пређемо на представљање података дијаграмом. Функција која податке представља секторским дијаграмом се зове ``pie`` зато што се у америчком сленгу секторски дијаграми зову *pie charts* = "тортасти дијаграми". Први аргумент представља низ вредности, док се другим задају ознаке (енгл. *label* = ознака:):

.. ipython::
   :okwarning:

   @savefig J05slika1.png width=5in
   In [1]: plt.figure(figsize=(6,6))
      ...: plt.pie(frekvencije, labels=ocene)
      ...: plt.title("Оцене из информатике")
      ...: plt.show()

.. ipython::
   :suppress:

   In [1]: plt.close()

Ако желимо да нагласимо број петица у разреду можемо одговарајући сектор да "измакнемо" мало из средишта. То се постиже аргументом ``explode`` функције ``pie`` који за сваки податак у низу каже колико треба да га измакнемо из средишта (0 = не треба изместити сектор из средишта дијаграма; што је већи број, то је и измештање веће).

.. ipython::
   :okwarning:

   @savefig J05slika2.png width=5in
   In [1]: frekvencije = [9,   11,  6,   3,   1]
      ...: ocene       = ["5", "4", "3", "2", "1"]
      ...: izmestanje  = [0.1, 0,   0,   0,   0]
      ...: plt.figure(figsize=(6,6))
      ...: plt.pie(frekvencije, labels=ocene, explode=izmestanje)
      ...: plt.title("Оцене из информатике")
      ...: plt.show()

.. ipython::
   :suppress:

   In [1]: plt.close()

Као други пример посматрајмо структуру наше атмосфере. Наша атмосфера је смеша разних гасова, а сув ваздух има следећи састав:

.. csv-table:: Атмосфера планете Земље
   :header: "Гас", "Заступљеност (%)"
   :align: left

   "Азот", "78,08"
   "Кисеоник", "20,94"
   "Аргон", "0,93"
   "Угљен диоксид", "0,05"

Важно је напоменути да *ово није тачан састав наше атмосфере:* у њој има и других гасова, али у траговима (како то хемичари воле да кажу) па они нису приказани у табели.

Структуру атмосфере ћемо представити секторским дијаграмом овако:

.. ipython::
   :okwarning:

   @savefig J05slika3.png width=6in
   In [1]: procenti = [78.08,  20.94,      0.93,    0.05]
      ...: oznake   = ["Азот", "Кисеоник", "Аргон", "Угљен диоксид"]
      ...: plt.figure(figsize=(8,7))
      ...: plt.pie(procenti, labels=oznake)
      ...: plt.title("Састав наше атмосфере")
      ...: plt.show()

.. ipython::
   :suppress:

   In [1]: plt.close()

Опет наилазимо на проблем: ознаке за последња два податка су се преклопиле јер се ради о веома уском секторима. Да бисмо решили проблем можемо још више да повећамо дијаграм, а можемо пробати и да последња два "мала" сектора "измакнемо" из средишта, овако:

.. ipython::
   :okwarning:

   @savefig J05slika4.png width=8.5in
   In [1]: procenti   = [78.08,  20.94,      0.93,    0.05]
      ...: oznake     = ["Азот", "Кисеоник", "Аргон", "Угљен диоксид"]
      ...: izmestanje = [0,      0,          0.75,    0.75]
      ...: plt.figure(figsize=(12,7))
      ...: plt.pie(procenti, labels=oznake, explode=izmestanje)
      ...: plt.title("Састав наше атмосфере")
      ...: plt.show()

.. ipython::
   :suppress:

   In [1]: plt.close()


Ево и кратког видеа који илуструје оно што смо до сада видели:

.. ytpopup:: kRWZfEp0RnI
   :width: 735
   :height: 415
   :align: center


